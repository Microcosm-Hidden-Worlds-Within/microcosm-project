<!DOCTYPE html>
<html lang="en">

<head>
  <!--Javascript for navbar-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- meta -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" type="text/css" href="css/colors.css">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/home.css">
  <link rel="stylesheet" type="text/css" href="css/home-media.css">

  <!-- Javascript -->

  <title>Microcosm: Hidden Worlds Within</title>
</head>

<body>
  <header>
    <!-- Documentation for navbar at https://getbootstrap.com/docs/5.3/components/navbar/#how-it-works -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">
          <img src="icons/logo/logo.png" alt="Logo">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="modal" data-bs-target="#navbarModal"
          aria-controls="navbarModal" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="app.html">Exhibition</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="narratives.html">Narratives</a>
            </li>
            <li class="nav-item">
              <a class="nav-link " aria-current="page" href="map.html">Map</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="about_us.html">About us</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <!-- Modal Structure -->
  <div class="modal fade" id="navbarModal" tabindex="-1" aria-labelledby="navbarModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content">
        <div class="modal-header">
          <a class="modal-title" id="navbarModalLabel" href="index.html">
            <img src="icons/logo/logo_full.svg" alt="Logo">
          </a>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Navbar content duplicated inside the modal -->
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="app.html">Exhibition</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="narratives.html">Narratives</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="map.html">Map</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="about_us.html">About us</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

  <main>
    <section id="hero">
      <div class="hero-content">
        <img class="hero-title" src="icons/logo/logo_full.svg" alt="">
        <h2 class="hero-subtitle">Hidden Worlds Within</h2>
        <a class="btn hero-btn" href="app.html" role="button">Explore the exhibition</a>
      </div>
    </section>
    <section id='description'>
      <div>
        <h3>What is about?</h3>
        <p class="slide-from-left">Explore <b>Microcosm: Hidden Worlds Within</b> where science meets art through stunning micrographs of the human body. This exhibition reveals the intricate complexity and elegance of human tissues and cells, showcasing the extraordinary beauty beneath the surface.</p>
        <p class="slide-from-left">Join us for a visual journey that celebrates the marvels of human biology in vivid colors and delicate structures.</p>
      </div>
    </section>

    <section id="narratives">
      <h3>Narratives</h3>
      <!-- Documentation for carousel at https://getbootstrap.com/docs/5.3/components/carousel/#how-it-works -->
      <div class="container-fluid">
        <div id="carouselExampleCaptions" class="carousel slide">
          <div class="carousel-indicators" id="carouselIndicators">

          </div>
          <div class="carousel-inner" id="carouselInner">

          </div>


          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>


      <div class="center mt-4">
        <a class="btn btn-primary" href="narratives.html" role="button">See all the narratives</a>
      </div>
    </section>


    <section id="navigation" class="colored-bg">
      <h3>Microcosm exhibition at Palazzo Pepoli</h3>
      <div>
        <div>
          <img class="exhibition-img" src="plan-of-museum/exibition_2.png" alt="Palazzo Pepoli">
        </div>
        <div>
          <p class="slide-from-left">Welcome to the navigation section for the exhibition hosted at the
            Palazzo Pepoli. Navigate through the
            exhibit's details and explore the museum's offerings.</p>
        </div>
      </div>
      <div class="center">
        <a class="btn btn-primary" href="map.html" role="button">Map of the museum</a>
      </div>
    </section>
    <section id="address" class="colored-bg">
      <h3>How to reach us</h3>
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2846.1165015831543!2d11.346427099999998!3d44.49227959999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x477fd5a9e5ea6fa5%3A0x57ba0917f216c9f2!2sPalazzo%20Pepoli%20-%20Museo%20della%20Storia%20di%20Bologna!5e0!3m2!1sit!2sit!4v1716999527772!5m2!1sit!2sit"
        style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      <div class="container center">
        <div class="row" id="address_grid">
          <div class="col-md-6 col-sm-12">
            <h4>Address</h4>
            <p>Via Castiglione, 8<br>40125 Bologna BO</p>
          </div>
          <div class="col-md-6 col-sm-12">
            <h4>Opening Times</h4>
            <p>9:00-12:00<br>14:00-19:00</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer id="footer">
    <div class="container">
      <div>
        <p>
          The purpose of this web site is to explore various types of typographic and layout style for musem pages, as an end-of-course project for the <em>"Information Modeling and Web technologies"</em> course of the <em>Master Degree in Digital Humanities and Digital Knowledge</em> of the University of Bologna, under prof. Fabio Vitali. The documents contained in this web site have been selected for their length and complexity from Wellcome Collections. Their publication here is not intended to be an alternative or replace their original locations. Full attributions are found in the Documentation page.
        </p>
        <p>
          All copyrights and related rights on the content remain with their original owners.<br>
          All copyright on the typographic and layout choices are 2024 Â© Benini Ludovica, Casazza Simone, Ciarrocca
          Alberto, Pak Anna
        </p>
        <p><a href="documentation.html">Read full Documentation</a> | All icons from <a href="https://www.flaticon.com" target="_blank">flaticon.com</a></p>
      </div>
    </div>
  </footer>

  <script>
    // animation on text when the user reaches it
    document.addEventListener('DOMContentLoaded', function () {
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('slide-in-left');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });

      document.querySelectorAll('p.slide-from-left').forEach(p => {
        observer.observe(p);
      });
    });

    document.addEventListener("DOMContentLoaded", async function (event) {
      fetch('narrative-data.json')
        .then(response => response.json())
        .then(data => {
          const narrativeData = data;
          insertDataInCarousel(narrativeData);
        })
        .catch(error => {
          console.error("Error:", error);
        });
    });

    function insertDataInCarousel(dataToInsert) {
      const narrativeName = dataToInsert.narratives[0].name
      const subnarrativesList = dataToInsert.narratives[0].subnarratives;
      for (let i = 0; i < subnarrativesList.length; i++) {
        let subnarrativeName = subnarrativesList[i]["name"];
        let subnarrativePic = subnarrativesList[i]["pic"];
        let subnarrativeDesc = subnarrativesList[i]["short-desc"];
        let encodedNarrativeName = encodeURIComponent(narrativeName);
        let encodedSubnarrativeName = encodeURIComponent(subnarrativeName);
        if (i == 0) {
          byId("carouselIndicators").innerHTML += `<button type="button" data-bs-target="#carouselExampleCaptions" 
              data-bs-slide-to="0" class="active"
              aria-current="true" aria-label="Slide 1"></button>`;

          byId("carouselInner").innerHTML += `<div class="carousel-item active" style="background-image: url('${subnarrativePic}');">
              <div class="transparent-background">
                <div class="carousel-caption mb-5">
                  <h5 class="carousel-title">${subnarrativeName}</h5>
                  <p>${subnarrativeDesc}</p>
                  <a href="app.html?narrative=${encodedNarrativeName}&subnarrative=${encodedSubnarrativeName}"><button type="button" class="btn btn-outline-light mt-3">Explore</button></a>
                </div>
              </div>
            </div>`;
        } else {
          byId("carouselIndicators").innerHTML += `<button type="button" data-bs-target="#carouselExampleCaptions" 
              data-bs-slide-to="${i}"
              aria-label="Slide ${i + 1}"></button>`;

          byId("carouselInner").innerHTML += `<div class="carousel-item" style="background-image: url('${subnarrativePic}');">
              <div class="transparent-background">
                <div class="carousel-caption mb-5">
                  <h5 class="carousel-title">${subnarrativeName}</h5>
                  <p>${subnarrativeDesc}</p>
                  <a href="app.html?narrative=${encodedNarrativeName}&subnarrative=${encodedSubnarrativeName}"><button type="button" class="btn btn-outline-light mt-3">Explore</button></a>
                </div>
              </div>
            </div>`;
        }


      }
    }

    function byId(id) {
      return document.getElementById(id)
    }

  </script>

</body>

</html>